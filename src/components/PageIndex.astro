---
import Layout from '@layouts/Layout.astro';
import Hero from '@components/Hero.astro';
import Card from '@components/Card.astro';

import { portfolioData } from '@data/portfolio';
import { extrasData } from '@data/extras';
import { volunteerData } from '@data/volunteer';

import TitleSection from '@components/TitleSection.astro';
import Quote from '@components/Quote.astro';
import Contact from '@components/Contact.svelte';
import { getLangFromUrl, useTranslations } from '@i18n/utils';
import Header from './Header.svelte';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const portfolio = portfolioData(t);
const volunteer = volunteerData(t);
const extras = extrasData(t);
---

<Layout pageTitle={t('home.title')}>
  <Header client:only='svelte' />
  <main class='relative pb-36 mx-auto max-w-7xl'>
    <Hero />

    <div class='my-16 px-4'>
      <TitleSection title={t('portfolio')} subtitle={t('portfolio.subtitle')} />
      <div
        class='space-y-12 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:gap-y-8 sm:space-y-0 lg:grid-cols-3 lg:gap-x-8 mb-16'
      >
        {
          portfolio.map((p, index) => (
            <Card
              title={p.title}
              description={p.description}
              href={p.url}
              imageUrl={p.imageUrl}
              imageAlt={p.imageAlt}
              techs={p.techs}
              loadingImage={'eager'}
              background={p.background}
              linkLabel={t('checkItOut')}
            />
          ))
        }
      </div>
      <TitleSection title={t('volunteer')} subtitle={t('volunteer.subtitle')} />
      <div
        class='space-y-12 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:gap-y-8 sm:space-y-0 lg:grid-cols-3 lg:gap-x-8 mb-16'
      >
        {
          volunteer.map((p) => (
            <Card
              title={p.title}
              description={p.description}
              href={p.url}
              imageUrl={p.imageUrl}
              imageAlt={p.imageAlt}
              techs={p.techs}
              loadingImage='lazy'
              background={p.background}
              linkLabel={t('checkItOut')}
            />
          ))
        }
      </div>
      <TitleSection title={t('extras')} subtitle={t('extras.subtitle')} />
      <div
        class='space-y-12 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:gap-y-8 sm:space-y-0 lg:grid-cols-3 lg:gap-x-8 mb-16'
      >
        {
          extras.map((p) => (
            <Card
              title={p.title}
              description={p.description}
              href={p.url}
              imageUrl={p.imageUrl}
              imageAlt={p.imageAlt}
              techs={p.techs}
              loadingImage='lazy'
              background={p.background}
              linkLabel={t('checkItOut')}
            />
          ))
        }
      </div>

      <Quote />
    </div>
    <Contact />

    <div class='sun'></div>

    <style>
      .sun {
        background-image: url('/sun-2.png');
        background-repeat: no-repeat;
        background-position: center;
        background-size: contain;
        width: 100%;
        position: absolute;
        bottom: 0px;
        z-index: 1;
        height: 145px;
        margin: auto;
      }
    </style>
  </main>
</Layout>
